<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üëª GhostHost - Spooky Website Builder</title>
    <meta name="description" content="Create a hauntingly beautiful website for your business in minutes. No coding required.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ========================================
           GHOSTHOST - SPOOKY WEBSITE BUILDER
           Built for Kiroween Hackathon 2025
           ======================================== */
        
        :root {
            --bg-dark: #0a0a0f;
            --bg-card: rgba(15, 15, 25, 0.95);
            --bg-input: rgba(20, 20, 35, 0.9);
            --orange-primary: #ff6b35;
            --orange-glow: rgba(255, 107, 53, 0.4);
            --purple-primary: #9b59b6;
            --purple-glow: rgba(155, 89, 182, 0.3);
            --green-accent: #2ecc71;
            --red-error: #e74c3c;
            --text-primary: #f0f0f0;
            --text-secondary: #a0a0b0;
            --border-subtle: rgba(255, 255, 255, 0.1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-dark);
            min-height: 100vh;
            line-height: 1.6;
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: 
                radial-gradient(ellipse at 20% 20%, var(--purple-glow) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, var(--orange-glow) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
            animation: bgPulse 8s ease-in-out infinite;
        }

        @keyframes bgPulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }

        /* ========== SPLASH SCREEN ========== */
        .splash-screen {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: var(--bg-dark);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .splash-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .splash-ghost {
            font-size: 8rem;
            animation: splashFloat 2s ease-in-out infinite, splashGlow 1.5s ease-in-out infinite;
        }

        @keyframes splashFloat {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.05); }
        }

        @keyframes splashGlow {
            0%, 100% { filter: drop-shadow(0 0 20px var(--orange-glow)); }
            50% { filter: drop-shadow(0 0 40px var(--orange-primary)) drop-shadow(0 0 60px var(--purple-glow)); }
        }

        .splash-title {
            font-family: 'Creepster', cursive;
            font-size: 4rem;
            color: var(--orange-primary);
            text-shadow: 0 0 30px var(--orange-glow);
            margin-top: 1rem;
            animation: flickerSplash 3s infinite;
        }

        @keyframes flickerSplash {
            0%, 100% { opacity: 1; }
            92% { opacity: 1; }
            93% { opacity: 0.3; }
            94% { opacity: 1; }
            96% { opacity: 0.5; }
            97% { opacity: 1; }
        }

        .splash-tagline {
            color: var(--text-secondary);
            font-size: 1.2rem;
            margin-top: 0.5rem;
            opacity: 0;
            animation: fadeInUp 1s ease 0.5s forwards;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .splash-loader {
            margin-top: 2rem;
            width: 200px;
            height: 4px;
            background: var(--border-subtle);
            border-radius: 2px;
            overflow: hidden;
        }

        .splash-loader-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--purple-primary), var(--orange-primary));
            animation: loadBar 2.5s ease-in-out forwards;
        }

        @keyframes loadBar {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        /* ========== ANIMATIONS ========== */
        .ghost-particle {
            position: fixed;
            font-size: 1.5rem;
            opacity: 0.15;
            pointer-events: none;
            animation: floatGhost 15s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes floatGhost {
            0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.15; }
            90% { opacity: 0.15; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            41% { opacity: 1; }
            42% { opacity: 0.8; }
            43% { opacity: 1; }
            45% { opacity: 0.3; }
            46% { opacity: 1; }
        }

        @keyframes gentleFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px var(--orange-glow); }
            50% { box-shadow: 0 0 40px var(--orange-glow), 0 0 60px var(--purple-glow); }
        }

        /* ========== LAYOUT ========== */
        .app-shell {
            min-height: 100vh;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            opacity: 0;
            animation: fadeIn 0.5s ease 2.8s forwards;
        }

        @keyframes fadeIn { to { opacity: 1; } }

        .app-header {
            text-align: center;
            padding: 20px 0;
        }

        .app-header h1 {
            font-family: 'Creepster', cursive;
            font-size: 3rem;
            color: var(--orange-primary);
            text-shadow: 0 0 10px var(--orange-glow), 0 0 20px var(--orange-glow), 0 0 40px var(--orange-glow);
            animation: flicker 5s infinite, gentleFloat 3s ease-in-out infinite;
            letter-spacing: 2px;
        }

        .app-header h1::before { content: 'üëª'; margin-right: 10px; }
        .app-header h1::after { content: 'üéÉ'; margin-left: 10px; }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-top: 8px;
        }

        /* ========== QUICK START GUIDE ========== */
        .quick-start {
            background: linear-gradient(135deg, rgba(155, 89, 182, 0.15), rgba(255, 107, 53, 0.1));
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .quick-start-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .quick-start-header h2 {
            font-size: 1.1rem;
            color: var(--orange-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-start-toggle {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .quick-start-toggle.open { transform: rotate(180deg); }

        .quick-start-content {
            display: none;
            margin-top: 1rem;
        }

        .quick-start-content.open { display: block; }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .step {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.25rem;
            text-align: center;
            border: 1px solid var(--border-subtle);
            transition: all 0.3s ease;
        }

        .step:hover {
            border-color: var(--purple-primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--orange-primary), var(--purple-primary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            margin: 0 auto 0.75rem;
        }

        .step-icon { font-size: 2rem; margin-bottom: 0.5rem; }
        .step-title { font-weight: 600; margin-bottom: 0.25rem; }
        .step-desc { font-size: 0.85rem; color: var(--text-secondary); }

        /* ========== MAIN GRID ========== */
        .app-main {
            display: grid;
            grid-template-columns: minmax(0, 1fr) minmax(0, 1.2fr);
            gap: 24px;
            flex: 1;
        }

        .form-column, .preview-column {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--border-subtle);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        .form-column::before, .preview-column::before {
            content: 'üï∏Ô∏è';
            position: absolute;
            top: -5px; left: -5px;
            font-size: 2rem;
            opacity: 0.3;
            transform: rotate(-45deg);
        }

        .form-column::after, .preview-column::after {
            content: 'üï∑Ô∏è';
            position: absolute;
            top: 30px; left: 10px;
            font-size: 1rem;
            opacity: 0.2;
            animation: gentleFloat 4s ease-in-out infinite;
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .preview-header h2 {
            font-size: 1.25rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .preview-header h2::before { content: 'üëÅÔ∏è'; }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
            color: var(--green-accent);
        }

        .live-dot {
            width: 8px; height: 8px;
            background: var(--green-accent);
            border-radius: 50%;
            animation: pulseGlow 2s infinite;
        }

        .preview-frame {
            width: 100%;
            height: calc(100vh - 400px);
            min-height: 400px;
            border-radius: 12px;
            border: 2px solid var(--border-subtle);
            background: #ffffff;
            transition: border-color 0.3s;
        }

        .preview-frame:hover { border-color: var(--orange-primary); }

        /* ========== FORM STYLES ========== */
        .form-group { margin-bottom: 1.25rem; }

        label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.95rem;
        }

        label .required {
            color: var(--orange-primary);
            text-shadow: 0 0 10px var(--orange-glow);
        }

        .field-label-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }

        .field-label-row label { margin-bottom: 0; }

        input[type="text"], select, textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-subtle);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            background: var(--bg-input);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        input[type="text"]:hover, select:hover, textarea:hover {
            border-color: var(--purple-primary);
            box-shadow: 0 0 15px var(--purple-glow);
        }

        input[type="text"]:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--orange-primary);
            box-shadow: 0 0 20px var(--orange-glow);
            background: rgba(30, 30, 50, 0.9);
        }

        select option { background: #1a1a2e; color: var(--text-primary); }
        textarea { resize: vertical; min-height: 100px; }

        /* ========== BUTTONS ========== */
        .ai-helper-btn {
            border: none;
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 0.75rem;
            cursor: pointer;
            background: linear-gradient(135deg, var(--purple-primary), #7b4397);
            color: white;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .ai-helper-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px var(--purple-glow);
        }

        .tone-toggle { display: inline-flex; align-items: center; gap: 6px; font-size: 0.75rem; }
        .tone-toggle-label { color: var(--text-secondary); }

        .tone-select {
            border-radius: 20px;
            border: 1px solid var(--border-subtle);
            padding: 4px 10px;
            background: var(--bg-input);
            color: var(--text-primary);
            font-size: 0.75rem;
            cursor: pointer;
            min-height: auto;
            min-width: auto;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 44px;
            min-width: 44px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before { left: 100%; }

        .btn-primary {
            background: linear-gradient(135deg, var(--orange-primary), #ff8c42);
            color: white;
            width: 100%;
            font-size: 1.1rem;
            padding: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 40px var(--orange-glow);
        }

        .btn-secondary {
            background: var(--bg-input);
            color: var(--text-primary);
            border: 1px solid var(--border-subtle);
        }

        .btn-secondary:hover {
            border-color: var(--orange-primary);
            box-shadow: 0 5px 20px var(--orange-glow);
        }

        .btn-preset {
            background: linear-gradient(135deg, var(--purple-primary), #7b4397);
            color: white;
            width: 100%;
            margin-bottom: 0.5rem;
        }

        .btn-preset:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px var(--purple-glow);
        }

        .btn-preset:disabled { background: #4a4a5a; cursor: not-allowed; opacity: 0.6; }

        .btn-remove {
            background: linear-gradient(135deg, var(--red-error), #c0392b);
            color: white;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            align-self: flex-start;
            margin-top: 1.75rem;
        }

        .btn-add {
            background: linear-gradient(135deg, var(--green-accent), #27ae60);
            color: white;
            margin-top: 0.5rem;
        }

        /* ========== THEME SELECTOR ========== */
        .theme-selector { display: flex; gap: 1rem; flex-wrap: wrap; }
        .theme-option { flex: 1; min-width: 180px; }
        .theme-option input[type="radio"] { display: none; }

        .theme-option label {
            display: block;
            padding: 1.25rem;
            border: 2px solid var(--border-subtle);
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            background: var(--bg-input);
        }

        .theme-option input[type="radio"]:checked + label {
            border-color: var(--orange-primary);
            box-shadow: 0 0 30px var(--orange-glow);
        }

        .theme-option label:hover {
            border-color: var(--purple-primary);
            transform: translateY(-3px);
        }

        .theme-option label strong { display: block; font-size: 1.1rem; margin-bottom: 4px; color: var(--orange-primary); }
        .theme-option label span { font-size: 0.85rem; color: var(--text-secondary); }

        /* ========== MENU ITEMS ========== */
        .menu-items-section {
            background: rgba(0, 0, 0, 0.2);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-subtle);
        }

        .menu-items-section h2 { font-size: 1.15rem; margin-bottom: 1rem; color: var(--text-primary); }

        .menu-item {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            align-items: flex-start;
            padding: 1rem;
            background: var(--bg-input);
            border-radius: 8px;
            border: 1px solid var(--border-subtle);
            transition: all 0.3s ease;
        }

        .menu-item:hover { border-color: var(--purple-primary); box-shadow: 0 5px 20px rgba(0,0,0,0.3); }
        .menu-item-fields { flex: 1; display: flex; gap: 1rem; flex-wrap: wrap; }
        .menu-item-field { flex: 1; min-width: 140px; }
        .menu-item-field label { font-size: 0.85rem; margin-bottom: 0.25rem; }

        /* ========== MESSAGES ========== */
        .error-message { color: var(--red-error); font-size: 0.85rem; margin-top: 0.25rem; display: none; }

        .form-group.error input, .form-group.error select, .form-group.error textarea, .menu-item-field.error input {
            border-color: var(--red-error);
            box-shadow: 0 0 15px rgba(231, 76, 60, 0.3);
        }

        .form-group.error .error-message, .menu-item-field.error .error-message { display: block; }

        .message { padding: 1rem; border-radius: 8px; margin-top: 1rem; font-weight: 500; }
        .message.success { background: rgba(46, 204, 113, 0.15); color: #86efac; border: 1px solid rgba(46, 204, 113, 0.3); }
        .message.error { background: rgba(231, 76, 60, 0.15); color: #fca5a5; border: 1px solid rgba(231, 76, 60, 0.3); }

        .helper-text { color: var(--text-secondary); font-size: 0.85rem; margin-top: 0.5rem; font-style: italic; }
        .menu-helper-text { color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem; }

        /* ========== FAQ SECTION ========== */
        .faq-section {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 1rem;
            border: 1px solid var(--border-subtle);
        }

        .faq-section h2 {
            font-size: 1.25rem;
            color: var(--orange-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .faq-item {
            border-bottom: 1px solid var(--border-subtle);
            padding: 1rem 0;
        }

        .faq-item:last-child { border-bottom: none; }

        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-primary);
            transition: color 0.3s;
        }

        .faq-question:hover { color: var(--orange-primary); }

        .faq-toggle {
            font-size: 1.2rem;
            transition: transform 0.3s;
            color: var(--text-secondary);
        }

        .faq-item.open .faq-toggle { transform: rotate(45deg); color: var(--orange-primary); }

        .faq-answer {
            display: none;
            padding-top: 0.75rem;
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .faq-item.open .faq-answer { display: block; }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 1024px) {
            .app-main { grid-template-columns: 1fr; }
            .preview-frame { height: 400px; min-height: 400px; }
        }

        @media (max-width: 768px) {
            .app-shell { padding: 16px; }
            .app-header h1 { font-size: 2rem; }
            .splash-title { font-size: 2.5rem; }
            .splash-ghost { font-size: 5rem; }
            .menu-item { flex-direction: column; }
            .menu-item-fields { width: 100%; }
            .btn-remove { margin-top: 0.5rem; width: 100%; }
            .theme-option { min-width: 100%; }
            .steps { grid-template-columns: 1fr; }
        }

        @media (max-width: 480px) {
            .app-header h1 { font-size: 1.5rem; }
            .app-header h1::before, .app-header h1::after { display: none; }
            .menu-item-fields { flex-direction: column; }
            .menu-item-field { width: 100%; }
            .field-label-row { flex-direction: column; align-items: flex-start; gap: 8px; }
        }
    </style>
</head>
<body>
    <!-- ========== SPLASH SCREEN ========== -->
    <div class="splash-screen" id="splashScreen">
        <div class="splash-ghost">üëª</div>
        <h1 class="splash-title">GhostHost</h1>
        <p class="splash-tagline">Conjuring your website...</p>
        <div class="splash-loader">
            <div class="splash-loader-bar"></div>
        </div>
    </div>

    <!-- Floating ghost particles -->
    <div class="ghost-particle" style="left: 10%; animation-delay: 0s;">üëª</div>
    <div class="ghost-particle" style="left: 25%; animation-delay: 3s;">ü¶á</div>
    <div class="ghost-particle" style="left: 40%; animation-delay: 6s;">üéÉ</div>
    <div class="ghost-particle" style="left: 55%; animation-delay: 9s;">üíÄ</div>
    <div class="ghost-particle" style="left: 70%; animation-delay: 12s;">üï∑Ô∏è</div>
    <div class="ghost-particle" style="left: 85%; animation-delay: 2s;">üëª</div>
    <div class="ghost-particle" style="left: 95%; animation-delay: 7s;">ü¶á</div>

    <div class="app-shell">
        <header class="app-header">
            <h1>GhostHost</h1>
            <p class="subtitle">Conjure a hauntingly beautiful website for your business in minutes</p>
        </header>

        <!-- ========== QUICK START GUIDE ========== -->
        <div class="quick-start">
            <div class="quick-start-header" onclick="toggleQuickStart()">
                <h2>üöÄ Quick Start Guide</h2>
                <button class="quick-start-toggle" id="quickStartToggle">‚ñº</button>
            </div>
            <div class="quick-start-content" id="quickStartContent">
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-icon">üìù</div>
                        <div class="step-title">Fill the Form</div>
                        <div class="step-desc">Enter your business details or click "Use Haunted Preset" for quick start</div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-icon">üëÅÔ∏è</div>
                        <div class="step-title">Preview Live</div>
                        <div class="step-desc">Watch your website come to life in real-time as you type</div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-icon">üöÄ</div>
                        <div class="step-title">Generate & Deploy</div>
                        <div class="step-desc">Download your files and follow the simple deployment guide</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== MAIN CONTENT ========== -->
        <main class="app-main">
            <section class="form-column">
                <form id="websiteForm">
                    <!-- Business Name -->
                    <div class="form-group">
                        <label for="business_name">Business Name <span class="required">*</span></label>
                        <input type="text" id="business_name" name="business_name" required maxlength="100" placeholder="e.g., Midnight Coffee House">
                        <div class="error-message">Please enter your business name</div>
                    </div>

                    <!-- Business Type -->
                    <div class="form-group">
                        <label for="business_type">Business Type <span class="required">*</span></label>
                        <select id="business_type" name="business_type" required>
                            <option value="">Select your business type</option>
                            <option value="coffee_shop">‚òï Coffee Shop</option>
                            <option value="bakery">ü•ê Bakery</option>
                            <option value="barber_shop">üíà Barber Shop</option>
                            <option value="food_stall">üçú Food Stall</option>
                            <option value="laundry_service">üß∫ Laundry Service</option>
                            <option value="photographer_creator">üì∏ Photographer/Creator</option>
                        </select>
                        <div class="error-message">Please select a business type</div>
                    </div>

                    <!-- Use Preset Button -->
                    <div class="form-group">
                        <button type="button" id="usePresetButton" class="btn btn-preset" onclick="applyPresetToForm()">
                            üéÉ Use Haunted Preset
                        </button>
                        <p class="helper-text">Auto-fill with spooky sample content you can customize</p>
                    </div>

                    <div id="presetFeedback" class="message" style="display: none;"></div>

                    <!-- Tagline -->
                    <div class="form-group">
                        <div class="field-label-row">
                            <label for="tagline">Tagline <span class="required">*</span></label>
                            <div style="display: flex; gap: 8px; align-items: center;">
                                <div class="tone-toggle">
                                    <span class="tone-toggle-label">Tone:</span>
                                    <select id="toneMode" name="toneMode" class="tone-select">
                                        <option value="normal">Normal</option>
                                        <option value="haunted" selected>üéÉ Haunted</option>
                                    </select>
                                </div>
                                <button type="button" id="autoTaglineBtn" class="ai-helper-btn">‚ú® Auto</button>
                            </div>
                        </div>
                        <input type="text" id="tagline" name="tagline" required maxlength="150" placeholder="e.g., Where shadows meet great taste">
                        <div class="error-message">Please enter a tagline</div>
                    </div>

                    <!-- Short Description -->
                    <div class="form-group">
                        <div class="field-label-row">
                            <label for="short_description">Short Description <span class="required">*</span></label>
                            <button type="button" id="autoDescriptionBtn" class="ai-helper-btn">‚ú® Auto</button>
                        </div>
                        <textarea id="short_description" name="short_description" required maxlength="500" placeholder="Tell customers about your mysteriously wonderful business..."></textarea>
                        <div class="error-message">Please enter a description</div>
                    </div>

                    <!-- WhatsApp Contact -->
                    <div class="form-group">
                        <label for="contact_whatsapp">WhatsApp Number <span class="required">*</span></label>
                        <input type="text" id="contact_whatsapp" name="contact_whatsapp" required maxlength="20" placeholder="e.g., 628123456789">
                        <div class="error-message">Please enter a valid WhatsApp number</div>
                    </div>

                    <!-- Instagram Handle -->
                    <div class="form-group">
                        <label for="instagram_handle">Instagram Handle <span class="required">*</span></label>
                        <input type="text" id="instagram_handle" name="instagram_handle" required maxlength="30" placeholder="e.g., yourbusiness">
                        <div class="error-message">Please enter a valid Instagram handle</div>
                    </div>

                    <!-- Theme Selector -->
                    <div class="form-group">
                        <label>Choose Your Theme <span class="required">*</span></label>
                        <div class="theme-selector">
                            <div class="theme-option">
                                <input type="radio" id="theme_classic" name="theme_choice" value="classic" required>
                                <label for="theme_classic">
                                    <strong>‚òÄÔ∏è Classic</strong>
                                    <span>Light & Professional</span>
                                </label>
                            </div>
                            <div class="theme-option">
                                <input type="radio" id="theme_kiroween" name="theme_choice" value="kiroween" required checked>
                                <label for="theme_kiroween">
                                    <strong>üéÉ Kiroween</strong>
                                    <span>Dark & Haunting</span>
                                </label>
                            </div>
                        </div>
                        <div class="error-message">Please select a theme</div>
                    </div>

                    <!-- Menu Items Section -->
                    <div class="menu-items-section">
                        <div class="field-label-row">
                            <h2>üçΩÔ∏è Menu Items <span class="required">*</span></h2>
                            <button type="button" id="autoMenuBtn" class="ai-helper-btn">‚ú® Auto Menu</button>
                        </div>
                        <p class="menu-helper-text" id="menuHelperText" style="display: none;">Optional: Add service items if desired</p>
                        <div id="menuItemsContainer">
                            <div class="menu-item" data-item-index="0">
                                <div class="menu-item-fields">
                                    <div class="menu-item-field">
                                        <label for="menu_item_name_0">Item Name <span class="required">*</span></label>
                                        <input type="text" id="menu_item_name_0" name="menu_item_name[]" required maxlength="100" placeholder="e.g., Midnight Espresso">
                                        <div class="error-message">Menu item name is required</div>
                                    </div>
                                    <div class="menu-item-field">
                                        <label for="menu_item_price_0">Price <span class="required">*</span></label>
                                        <input type="text" id="menu_item_price_0" name="menu_item_price[]" required maxlength="20" placeholder="e.g., Rp 25,000">
                                        <div class="error-message">Menu item price is required</div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-remove" onclick="removeMenuItem(0)" style="display: none;">‚úï</button>
                            </div>
                        </div>
                        <button type="button" class="btn btn-add" onclick="addMenuItem()">+ Add Menu Item</button>
                        <div class="error-message" id="menuItemsError">Please add at least one menu item</div>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary">üëª Generate My Haunted Website</button>
                    <div id="generationMessage" class="message" style="display: none;"></div>
                </form>
            </section>
            
            <section class="preview-column">
                <div class="preview-header">
                    <h2>Live Preview</h2>
                    <div class="live-indicator">
                        <span class="live-dot"></span>
                        <span>Auto-updating</span>
                    </div>
                </div>
                <iframe id="previewFrame" title="Website Preview" class="preview-frame"></iframe>
            </section>
        </main>

        <!-- ========== FAQ SECTION ========== -->
        <div class="faq-section">
            <h2>‚ùì Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>What is GhostHost?</span>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    GhostHost is a free, no-code website builder designed for small businesses. Fill out a simple form, and we'll generate a professional landing page with your business info, menu, and contact links. No coding skills required!
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>How do I deploy my website?</span>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    After generating, you'll download 4 files. The easiest way to deploy is drag-and-drop to <strong>Netlify</strong> (free): Go to app.netlify.com/drop and upload your files. You'll get a live URL in seconds! The downloaded deployment-instructions.txt file has step-by-step guides for other platforms too.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>What's "Haunted Mode"?</span>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Haunted Mode generates playfully spooky content for your business ‚Äî think "Coffee so dark it might wake the dead" instead of "Your daily dose of happiness." It's fun, memorable, and still professional. Perfect for standing out! You can toggle between Normal and Haunted in the Tone selector.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>Is this really free?</span>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Yes! GhostHost is 100% free. No account required, no hidden fees. Your generated website files are yours to keep and host anywhere. We built this for the Kiroween Hackathon to help small business owners get online quickly.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>Can I update my website later?</span>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Absolutely! Just come back, fill out the form with your updated info, generate new files, and re-upload to your hosting. Your old site will be replaced with the new one. It's that simple.
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer style="text-align: center; padding: 1.5rem; color: var(--text-secondary); font-size: 0.9rem;">
            <p>Built with üëª for <a href="https://kiroween.devpost.com" target="_blank" style="color: var(--orange-primary);">Kiroween Hackathon 2025</a></p>
            <p style="font-size: 0.8rem; margin-top: 0.5rem; opacity: 0.7;">Powered by Kiro AI</p>
        </footer>
    </div>

    <!-- ========== SCRIPTS ========== -->
    <script src="js/sanitization.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/template-engine.js"></script>
    <script src="js/file-writer.js"></script>
    <script type="module" src="js/presets.js"></script>
    <script type="module" src="js/form-controller.js"></script>
    <script src="js/generator.js"></script>
    <script src="js/preview.js" defer></script>
    <script src="js/ai-helpers.js" defer></script>
    
    <script type="module">
        import { initializeFormController } from './js/form-controller.js';
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeFormController);
        } else {
            initializeFormController();
        }
    </script>
    
    <script>
        // Splash screen auto-hide
        setTimeout(() => {
            document.getElementById('splashScreen').classList.add('hidden');
        }, 2800);

        // Quick Start toggle
        function toggleQuickStart() {
            const content = document.getElementById('quickStartContent');
            const toggle = document.getElementById('quickStartToggle');
            content.classList.toggle('open');
            toggle.classList.toggle('open');
        }

        // FAQ toggle
        function toggleFaq(element) {
            const item = element.parentElement;
            item.classList.toggle('open');
        }

        // Menu item management
        let menuItemCount = 1;
        const MAX_MENU_ITEMS = 20;

        function addMenuItem() {
            if (menuItemCount >= MAX_MENU_ITEMS) {
                alert(`Maximum ${MAX_MENU_ITEMS} menu items allowed`);
                return;
            }

            const container = document.getElementById('menuItemsContainer');
            const menuItem = document.createElement('div');
            menuItem.className = 'menu-item';
            menuItem.setAttribute('data-item-index', menuItemCount);
            
            menuItem.innerHTML = `
                <div class="menu-item-fields">
                    <div class="menu-item-field">
                        <label for="menu_item_name_${menuItemCount}">Item Name <span class="required">*</span></label>
                        <input type="text" id="menu_item_name_${menuItemCount}" name="menu_item_name[]" required maxlength="100" placeholder="e.g., Cappuccino">
                        <div class="error-message">Menu item name is required</div>
                    </div>
                    <div class="menu-item-field">
                        <label for="menu_item_price_${menuItemCount}">Price <span class="required">*</span></label>
                        <input type="text" id="menu_item_price_${menuItemCount}" name="menu_item_price[]" required maxlength="20" placeholder="e.g., Rp 30,000">
                        <div class="error-message">Menu item price is required</div>
                    </div>
                </div>
                <button type="button" class="btn btn-remove" onclick="removeMenuItem(${menuItemCount})">‚úï</button>
            `;
            
            container.appendChild(menuItem);
            menuItemCount++;
            updateRemoveButtons();
            attachValidationListeners();
            triggerPreviewUpdate();
        }

        function removeMenuItem(index) {
            const menuItems = document.querySelectorAll('.menu-item');
            if (menuItems.length <= 1) {
                alert('You must have at least one menu item');
                return;
            }
            const menuItem = document.querySelector(`.menu-item[data-item-index="${index}"]`);
            if (menuItem) menuItem.remove();
            updateRemoveButtons();
            triggerPreviewUpdate();
        }

        function updateRemoveButtons() {
            const menuItems = document.querySelectorAll('.menu-item');
            const removeButtons = document.querySelectorAll('.btn-remove');
            removeButtons.forEach(btn => btn.style.display = menuItems.length === 1 ? 'none' : 'block');
        }

        function attachValidationListeners() {
            const fields = document.querySelectorAll('input[type="text"], textarea, select');
            fields.forEach(field => {
                field.removeEventListener('blur', handleFieldBlur);
                field.addEventListener('blur', handleFieldBlur);
                field.removeEventListener('input', triggerPreviewUpdate);
                field.addEventListener('input', debounce(triggerPreviewUpdate, 500));
            });

            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => {
                radio.removeEventListener('change', handleRadioChange);
                radio.addEventListener('change', handleRadioChange);
                radio.addEventListener('change', triggerPreviewUpdate);
            });
        }

        function handleFieldBlur(e) {
            if (typeof Validation !== 'undefined') Validation.validateField(e.target);
        }

        function handleRadioChange(e) {
            if (e.target.name === 'theme_choice') {
                const themeGroup = e.target.closest('.form-group');
                if (themeGroup) {
                    themeGroup.classList.remove('error');
                    const errorMsg = themeGroup.querySelector('.error-message');
                    if (errorMsg) errorMsg.style.display = 'none';
                }
            }
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func(...args), wait);
            };
        }

        function triggerPreviewUpdate() {
            if (typeof window.PreviewTest !== 'undefined' && typeof window.PreviewTest.updatePreview === 'function') {
                window.PreviewTest.updatePreview();
            }
        }

        updateRemoveButtons();
        attachValidationListeners();
        setTimeout(triggerPreviewUpdate, 1000);
    </script>

    <!-- Preset Function -->
    <script type="module">
        import { getPreset } from './js/presets.js';
        
        window.applyPresetToForm = function() {
            const businessTypeSelect = document.getElementById('business_type');
            const businessType = businessTypeSelect ? businessTypeSelect.value : '';
            
            if (!businessType) {
                alert('Please select a business type first');
                return;
            }
            
            const preset = getPreset(businessType);
            if (!preset) {
                alert('No preset available for this business type');
                return;
            }
            
            const taglineField = document.getElementById('tagline');
            if (taglineField) taglineField.value = preset.default_tagline;
            
            const descriptionField = document.getElementById('short_description');
            if (descriptionField) descriptionField.value = preset.default_short_description;
            
            if (preset.default_menu_items && preset.default_menu_items.length > 0) {
                const container = document.getElementById('menuItemsContainer');
                if (container) {
                    container.innerHTML = '';
                    
                    preset.default_menu_items.forEach((item, index) => {
                        const menuItem = document.createElement('div');
                        menuItem.className = 'menu-item';
                        menuItem.setAttribute('data-item-index', index);
                        
                        const escapeName = item.name.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
                        const escapePrice = item.price.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
                        
                        menuItem.innerHTML = `
                            <div class="menu-item-fields">
                                <div class="menu-item-field">
                                    <label for="menu_item_name_${index}">Item Name <span class="required">*</span></label>
                                    <input type="text" id="menu_item_name_${index}" name="menu_item_name[]" required maxlength="100" value="${escapeName}">
                                    <div class="error-message">Menu item name is required</div>
                                </div>
                                <div class="menu-item-field">
                                    <label for="menu_item_price_${index}">Price <span class="required">*</span></label>
                                    <input type="text" id="menu_item_price_${index}" name="menu_item_price[]" required maxlength="20" value="${escapePrice}">
                                    <div class="error-message">Menu item price is required</div>
                                </div>
                            </div>
                            <button type="button" class="btn btn-remove" onclick="removeMenuItem(${index})">‚úï</button>
                        `;
                        container.appendChild(menuItem);
                    });
                    
                    window.menuItemCount = preset.default_menu_items.length;
                    if (typeof window.updateRemoveButtons === 'function') window.updateRemoveButtons();
                    if (typeof window.attachValidationListeners === 'function') window.attachValidationListeners();
                }
            }
            
            const feedback = document.getElementById('presetFeedback');
            if (feedback) {
                feedback.textContent = 'üëª Haunted preset applied! Customize the content above, then generate your website.';
                feedback.className = 'message success';
                feedback.style.display = 'block';
                setTimeout(() => { feedback.style.display = 'none'; }, 4000);
            }
            
            setTimeout(() => {
                if (typeof window.triggerPreviewUpdate === 'function') window.triggerPreviewUpdate();
            }, 100);
        };
    </script>
</body>
</html>
